<html>
	<head>

		<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VD5F2585WB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VD5F2585WB');
</script>

		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>TallyTown</title>
		<link rel="shortcut icon" href="TemplateData/favicon.ico">	
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="webglScreen.js"></script>
	</head>
	<body style="margin: 0; overflow:hidden">
		<iframe id="Frame"  src="game.html" style="border-width:1px;position:absolute;"></iframe>
		<div id="version-indicator">version: 2025.5.21.2</div>
		<script>
			//开始时调用
			window.gameframe = document.getElementById("Frame");
			window.WebglOrientation=WebglScreenOrientation.AutoRotation
			RotScreen()
			window.addEventListener("resize", function () {
				RotScreen();
			})
			window.addEventListener("orientationchange", function () {
					RotScreen();
			})
		</script>
		<script>
			const Http = new XMLHttpRequest();
			const url="StreamingAssets/webglscreenSetting/ScreenConfig.json";
			// 创建一个新的 XMLHttpRequest 对象  
			var xhr = new XMLHttpRequest();  
			
			// 设置请求类型为 GET，并指定请求的 URL  
			
			// 设置请求完成后的回调函数  
			xhr.onreadystatechange = function () {  
				// 检查请求是否成功完成（状态码为 200）  
				if (xhr.readyState === 4 && xhr.status === 200) {  
					// 读取响应文本  
					var json = xhr.responseText;  
					// 解析 JSON 字符串为 JavaScript 对象  
					var data = JSON.parse(json);  
					// 将解析后的数据中的 ScreenOrientation 赋值给 window.WebglOrientation  
					window.WebglOrientation = data.ScreenOrientation;  
					// 调用 RotScreen 函数（假设该函数已定义）  
					RotScreen();  
				}  
			};  
			xhr.open("GET", url, true);  
			xhr.send()
		</script>
		<style>
			#version-indicator {
				position: fixed;
				bottom: 10px;
				right: 10px;
				background-color: rgba(0, 0, 0, 0.5);
				color: white;
				padding: 5px 8px;
				border-radius: 4px;
				font-family: Arial, sans-serif;
				font-size: 12px;
				z-index: 1000;
				pointer-events: none;
			}
		</style>
	</body>
	
</html>
